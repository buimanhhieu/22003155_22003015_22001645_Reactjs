import{k as w,u as f,j as s,H as C,B as F,L as y,p as l,t as b,m as k}from"./index-DzK2o4QI.js";import{r as m,I as B,E as d,a as v}from"./rules-Bak8-6Nj.js";import{R as E,C as N,B as L,F as R,a as S,b as I,c,d as M,e as V}from"./register.style-CWAu2_eg.js";import{u as H,C as p}from"./index.esm-hQviJA86.js";function q(){const{control:n,handleSubmit:h,getValues:o,setError:u,formState:{errors:t}}=H({defaultValues:{email:"",password:""}}),x=w(),j=f(),g=async e=>{const a={email:e.email,password:e.password};try{const r=await x(b(a));k(r),j(l.home,{replace:!0})}catch(r){if(r.status===422)for(const i in r.data)u(i,{type:"server",message:r.data[i]})}};return s.jsxs(E,{children:[s.jsx(C,{children:s.jsx("title",{children:"Đăng Nhập"})}),s.jsxs(N,{className:"container",children:[s.jsx(L,{}),s.jsxs(R,{children:[s.jsx(S,{children:"Đăng nhập"}),s.jsxs(I,{onSubmit:h(g),noValidate:!0,children:[s.jsxs(c,{children:[s.jsx(p,{name:"email",control:n,rules:m.email,render:({field:e})=>s.jsx(B,{type:"email",name:"email",placeholder:"Email",onChange:a=>e.onChange(a),value:o("email")})}),s.jsx(d,{errors:t,name:"email"})]}),s.jsxs(c,{children:[s.jsx(p,{name:"password",control:n,rules:m.password,render:({field:e})=>s.jsx(v,{name:"password",placeholder:"Mật khẩu",onChange:a=>e.onChange(a),value:o("password")})}),s.jsx(d,{errors:t,name:"password"})]}),s.jsx(M,{children:s.jsx(F,{type:"submit",children:"Đăng Nhập"})})]}),s.jsxs(V,{children:[s.jsx("span",{children:"Bạn mới biết đến MyShop?"}),s.jsx(y,{to:l.register,className:"link",children:"Đăng ký"})]})]})]})]})}export{q as default};
